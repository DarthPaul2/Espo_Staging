{
    "hooks": {
        "beforeSave": [
            "AutoNumber",
            "BemerkungVorlage"
        ]
    },
    "fields": {
        "name": {
            "type": "varchar",
            "required": false,
            "pattern": "$noBadCharacters",
            "options": []
        },
        "description": {
            "type": "text"
        },
        "createdAt": {
            "type": "datetime",
            "readOnly": true
        },
        "modifiedAt": {
            "type": "datetime",
            "readOnly": true
        },
        "createdBy": {
            "type": "link",
            "readOnly": true,
            "view": "views/fields/user"
        },
        "modifiedBy": {
            "type": "link",
            "readOnly": true,
            "view": "views/fields/user"
        },
        "assignedUser": {
            "type": "link",
            "required": false,
            "view": "views/fields/assigned-user"
        },
        "teams": {
            "type": "linkMultiple",
            "view": "views/fields/teams"
        },
        "angebotsnummer": {
            "type": "varchar",
            "maxLength": 100,
            "options": [],
            "isCustom": true,
            "readOnlyAfterCreate": true
        },
        "accountBillingAddressStreet": {
            "readOnly": true,
            "type": "foreign",
            "link": "account",
            "field": "billingAddressStreet",
            "view": "views/fields/foreign-varchar",
            "isCustom": true
        },
        "accountBillingAddressPostalCode": {
            "readOnly": true,
            "type": "foreign",
            "link": "account",
            "field": "billingAddressPostalCode",
            "view": "views/fields/foreign-varchar",
            "isCustom": true
        },
        "accountBillingAddressCity": {
            "readOnly": true,
            "type": "foreign",
            "link": "account",
            "field": "billingAddressCity",
            "view": "views/fields/foreign-varchar",
            "isCustom": true
        },
        "accountHausnummer": {
            "readOnly": true,
            "type": "foreign",
            "link": "account",
            "field": "cHausnummer",
            "view": "views/fields/foreign-varchar",
            "isCustom": true
        },
        "einleitung": {
            "type": "text",
            "rowsMin": 2,
            "cutHeight": 200,
            "isCustom": true,
            "default": "Sehr geehrte Damen und Herren,\nwir danken Ihnen für Ihr Interesse an den Leistungen der KleSec GmbH.\nNachfolgend erhalten Sie das Angebot für Sie.\n\nHaben Sie Fragen zu dem Angebot oder wünschen Sie detailliertere Informationen zu unseren Ausführungen?\nDann zögern Sie bitte nicht, mit Ihrem persönlichen Ansprechpartner über folgende Kommunikationswege in Verbindung zu treten:\n\nIhr Ansprechpartner: Tobias Schiller\nE-Mail: schiller@klesec.de\nTel.: 0171 6969930\n\nBeauftragungen bitte an: schiller@klesec.de\n\nDas Angebot setzt sich aus den nachstehenden Positionen und aufgeführten Hinweisen zusammen."
        },
        "bemerkung": {
            "type": "text",
            "rowsMin": 2,
            "cutHeight": 200,
            "isCustom": true
        },
        "betragNetto": {
            "notNull": false,
            "type": "float",
            "isCustom": true,
            "readOnlyAfterCreate": true
        },
        "betragBrutto": {
            "notNull": false,
            "type": "float",
            "isCustom": true,
            "readOnlyAfterCreate": true
        },
        "gueltigBis": {
            "notNull": false,
            "type": "date",
            "isCustom": true,
            "required": true
        },
        "gesetzOption13b": {
            "notNull": true,
            "type": "bool",
            "isCustom": true
        },
        "gesetzOption12": {
            "notNull": true,
            "type": "bool",
            "isCustom": true
        },
        "kontaktperson": {
            "type": "varchar",
            "maxLength": 100,
            "options": [],
            "isCustom": true
        },
        "pdfUrl": {
            "type": "url",
            "isCustom": true
        },
        "status": {
            "type": "enum",
            "options": [
                "in_arbeit",
                "abgerechnet",
                "geschlossen"
            ],
            "style": {
                "in_arbeit": "danger",
                "abgerechnet": "warning",
                "geschlossen": "success"
            },
            "default": "in_arbeit",
            "displayAsLabel": true,
            "maxLength": 100,
            "isCustom": true
        },
        "account": {
            "type": "link"
        },
        "accountKundenNr": {
            "readOnly": true,
            "type": "foreign",
            "link": "account",
            "field": "cKundennummer",
            "view": "views/fields/foreign-varchar",
            "isCustom": true
        },
        "bemerkungVorlage": {
            "type": "enum",
            "options": [
                "Bitte auswählen…",
                "Zahlungsbedingungen: 10 Tage ohne Abzug...",
                "Bei den o.g. Positionen handelt es...",
                "Die o.g. Komponenten verstehen sich inkl...",
                "Wir hoffen, dass dieses Angebot Ihren...",
                "Die Lieferfähigkeit der angefragten...",
                "Unsere Angebote sind freibleibend und..."
            ],
            "style": {
                "Bitte auswählen…": null,
                "Zahlungsbedingungen: 10 Tage ohne Abzug...": null,
                "Bei den o.g. Positionen handelt es...": null,
                "Die o.g. Komponenten verstehen sich inkl...": null,
                "Wir hoffen, dass dieses Angebot Ihren...": null,
                "Die Lieferfähigkeit der angefragten...": null,
                "Unsere Angebote sind freibleibend und...": null
            },
            "default": "Wir hoffen, dass dieses Angebot Ihren...",
            "maxLength": 100,
            "isCustom": true
        },
        "auftrag": {
            "type": "link"
        }
    },
    "links": {
        "createdBy": {
            "type": "belongsTo",
            "entity": "User"
        },
        "modifiedBy": {
            "type": "belongsTo",
            "entity": "User"
        },
        "assignedUser": {
            "type": "belongsTo",
            "entity": "User"
        },
        "teams": {
            "type": "hasMany",
            "entity": "Team",
            "relationName": "entityTeam",
            "layoutRelationshipsDisabled": true
        },
        "account": {
            "type": "belongsTo",
            "foreign": "cAngebots",
            "entity": "Account",
            "audited": false,
            "isCustom": true
        },
        "positionen": {
            "type": "hasMany",
            "foreign": "angebot",
            "entity": "CAngebotsposition",
            "audited": false,
            "isCustom": true,
            "orderBy": "positionsNummer",
            "order": "asc"
        },
        "rechnungs": {
            "type": "hasMany",
            "foreign": "angebot",
            "entity": "CRechnung",
            "audited": false,
            "isCustom": true
        },
        "auftrag": {
            "type": "belongsTo",
            "foreign": "angebots",
            "entity": "CAuftrag",
            "audited": false,
            "isCustom": true
        },
        "lieferscheins": {
            "type": "hasMany",
            "foreign": "angebot",
            "entity": "CLieferschein",
            "audited": false,
            "isCustom": true
        },
        "auftragspositions": {
            "type": "hasMany",
            "foreign": "angebot",
            "entity": "CAuftragsposition",
            "audited": false,
            "isCustom": true
        }
    },
    "collection": {
        "orderBy": "createdAt",
        "order": "desc",
        "textFilterFields": [
            "name"
        ],
        "fullTextSearch": false,
        "countDisabled": false
    },
    "indexes": {
        "name": {
            "columns": [
                "name",
                "deleted"
            ]
        },
        "assignedUser": {
            "columns": [
                "assignedUserId",
                "deleted"
            ]
        },
        "createdAt": {
            "columns": [
                "createdAt"
            ]
        },
        "createdAtId": {
            "unique": true,
            "columns": [
                "createdAt",
                "id"
            ]
        }
    },
    "optimisticConcurrencyControl": false
}